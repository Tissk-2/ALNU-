<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Pengguna - ALNU</title>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Variabel Warna dan Desain (SAMA PERSIS DENGAN Data Fauna/Flora) */
        :root {
            --color-primary: #375338; /* Hijau Gelap Utama (Sidebar, teks aktif, chart) */
            --color-accent: #60a75f; /* Hijau Aksen (logo, indikator) */
            --color-bg-light: #f4f4f4; /* Latar Belakang Card/Tabel header */
            --color-card-bg: #ffffff; /* Latar Belakang Card Putih */
            --color-text-dark: #1f1f1f;
            --color-text-subtle: #666; /* Warna teks sekunder (ikon, label) */
            --sidebar-width: 280px;
            --main-container-border-radius: 20px; /* Sudut lengkung container utama */
            --card-border-radius: 12px; /* Sudut lengkung kartu */
            --shadow-subtle: 0 5px 15px rgba(0, 0, 0, 0.08); /* Bayangan umum */
            --color-action-edit: #3498db;
            --color-action-delete: #e74c3c;
            --color-action-add: #2ecc71;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background-color: var(--color-primary); 
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Wrapper utama untuk menampung sidebar dan konten */
        .main-wrapper {
            display: flex;
            width: 95vw;
            height: 95vh;
            background-color: var(--color-primary); 
            border-radius: var(--main-container-border-radius);
            overflow: hidden; 
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3); 
        }

        /* ==================================== */
        /* 1. SIDEBAR (Navigasi Kiri) */
        /* ==================================== */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--color-primary);
            color: #fff;
            padding: 25px 0; 
            display: flex;
            flex-direction: column;
            position: relative; 
            flex-shrink: 0; 
        }

        .logo-section {
            padding: 0 30px 30px 30px; 
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex; 
            align-items: center;
        }
        .logo-shape-wrapper {
            position: relative; 
            width: 65px; 
            height: 65px; 
            margin-right: 18px; 
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }
        .logo-shape {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--color-card-bg); 
            border-radius: 14px; 
            transform: rotate(-10deg); 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); 
        }
        .logo-section img {
            position: relative; 
            z-index: 2; 
            height: 45px; 
            width: auto;
            object-fit: contain;
        }
        .logo-text {
            margin: 0; 
        }
        .logo-text h3 {
            font-size: 1.3rem; 
            font-weight: 800;
            margin: 0;
            line-height: 1.2;
        }
        .logo-text p {
            font-size: 0.7rem; 
            margin: 5px 0 0 0;
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 0.5px;
            font-weight: 500;
        }
        .nav-menu {
            flex-grow: 1; 
            padding: 0 20px;
            list-style: none;
        }
        .nav-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .nav-item a {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin: 8px 0;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
            font-weight: 500;
        }

        .nav-item a:hover:not(.submenu-toggle) {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        .nav-item a:hover.submenu-toggle {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        
        /* Gaya Aktif untuk menu utama */
        .nav-item.active > a:not(.submenu-toggle) {
            background-color: var(--color-card-bg); 
            color: var(--color-primary);
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); 
        }
        
        .nav-item.active > a:not(.submenu-toggle) svg {
            stroke: var(--color-primary) !important;
        }

        /* Gaya untuk ikon */
        .nav-item a svg {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            stroke-width: 2;
        }
        .nav-item:not(.active) a svg {
            stroke: rgba(255, 255, 255, 0.9);
        }

        /* ==================================== */
        /* GAYA SUBMENU (Data) */
        /* ==================================== */
        .submenu-list {
            padding: 0;
            list-style: none;
            margin-top: -8px; 
            margin-bottom: 8px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            padding-left: 0;
        }

        .submenu-list.visible {
            max-height: 500px; 
        }
        
        .submenu-item a {
            padding-left: 45px; 
            font-size: 0.9rem;
            margin: 4px 0;
            display: flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
        }
        .submenu-item a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        
        /* Gaya Aktif untuk Submenu Item */
        .submenu-item.active a {
            background-color: var(--color-card-bg); 
            color: var(--color-primary);
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); 
        }
        .submenu-item.active a svg {
            stroke: var(--color-primary) !important;
        }

        /* Gaya untuk Chevron Down/Up */
        .nav-item .chevron {
            margin-left: auto; 
            width: 16px; 
            height: 16px; 
            transition: transform 0.3s;
            stroke: rgba(255, 255, 255, 0.9);
        }
        .nav-item.expanded .chevron {
            transform: rotate(-180deg);
        }
        
        /* Tombol Log Out */
        .btn-logout-section {
            position: absolute; 
            bottom: 25px; 
            left: 0;
            right: 0;
            padding: 0 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px;
        }
        .btn-logout {
            display: flex;
            align-items: center;
            justify-content: flex-start; 
            width: 100%;
            padding: 12px 15px;
            background-color: transparent; 
            color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .btn-logout svg {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            stroke: rgba(255, 255, 255, 0.9);
        }
        
        /* ==================================== */
        /* 2. MAIN CONTENT AREA */
        /* ==================================== */
        .main-content-area {
            flex-grow: 1;
            background-color: var(--color-card-bg); 
            border-radius: var(--main-container-border-radius);
            padding: 40px; 
            overflow-y: auto; 
            margin-left: calc(-1 * var(--main-container-border-radius)); 
            padding-left: calc(40px + var(--main-container-border-radius)); 
            box-shadow: var(--shadow-subtle);
        }
        
        .header-content h1 {
            font-size: 1.8rem;
            color: var(--color-text-dark);
            font-weight: 700;
            margin-top: 0;
            margin-bottom: 10px;
        }
        .header-content p {
            font-size: 1.2rem;
            color: var(--color-text-subtle);
            font-weight: 500;
            margin-bottom: 30px;
        }

        /* ==================================== */
        /* 3. TABLE STYLING */
        /* ==================================== */
        .data-card {
            background-color: var(--color-card-bg);
            border-radius: var(--card-border-radius);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            border: 1px solid #eee;
            padding: 25px;
        }
        
        .table-controls {
            display: flex;
            justify-content: flex-start; 
            margin-bottom: 20px;
        }
        
        /* Tombol Add (Dihilangkan/Disembunyikan untuk halaman Pengguna) */
        .btn-add { 
            display: none; 
        } 

        .data-table-container {
            overflow-x: auto;
        }
        
        .data-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: var(--card-border-radius);
            overflow: hidden; 
        }
        
        .data-table th, .data-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .data-table thead {
            background-color: var(--color-primary); 
            color: var(--color-card-bg);
            text-transform: uppercase;
            font-size: 0.85rem; 
            font-weight: 600;
            letter-spacing: 0.8px;
        }

        /* Gaya untuk sudut tabel */
        .data-table thead th:first-child { border-top-left-radius: var(--card-border-radius); }
        .data-table thead th:last-child { border-top-right-radius: var(--card-border-radius); }
        
        .data-table tbody tr:nth-child(odd) {
            background-color: #f9f9f9;
        }
        .data-table tbody tr:hover {
            background-color: #f0f8ff; 
        }
        
        .action-buttons button {
            background: none;
            border: none;
            cursor: pointer;
            margin: 0 5px;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .action-buttons .btn-edit { color: var(--color-action-edit); }
        .action-buttons .btn-edit:hover { background-color: #d1e4f3; }

        .action-buttons .btn-delete { color: var(--color-action-delete); }
        .action-buttons .btn-delete:hover { background-color: #f7e0e0; }

        /* Badge Styles */
        .role-badge, .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 999px; 
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            line-height: 1;
        }
        /* Role Colors */
        .role-admin { background-color: #ffe0e6; color: #a13c4c; } 
        /* REVISI: Mengganti role-user menjadi role-viewer */
        .role-viewer { background-color: #d8eaff; color: #2980b9; } 
        /* Status Colors */
        .status-aktif { background-color: #d7f8d7; color: #1c7430; } 
        .status-nonaktif { background-color: #ffe0e0; color: #c0392b; } 

        /* ==================================== */
        /* 4. MODAL STYLING (Spesifik Pengguna) */
        /* ==================================== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: var(--color-card-bg);
            padding: 30px;
            border-radius: var(--card-border-radius);
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        .modal-content h3 {
            margin-top: 0;
            color: var(--color-text-dark);
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        .modal-content input, .modal-content select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
        }
        .modal-content input[readonly], .modal-content select[readonly] {
            background-color: #f7f7f7;
            cursor: not-allowed;
            color: var(--color-text-subtle);
        }
        /* Password Reset Control */
        .password-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 6px;
            background-color: #fdfdfd;
        }
        .password-control p {
            margin: 0;
            flex-grow: 1;
            font-size: 0.85rem;
            color: var(--color-text-subtle);
        }
        .btn-reset-password {
            background-color: #f39c12; 
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            flex-shrink: 0;
        }
        .btn-reset-password:hover {
            background-color: #e67e22;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }
        .btn-cancel {
            background-color: #ccc;
            color: var(--color-text-dark);
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        .btn-submit {
            background-color: var(--color-primary);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        #deleteModal .modal-content h3 { color: var(--color-action-delete); }
        #confirmDeleteButton { background-color: var(--color-action-delete); }

        /* Responsifitas (SAMA PERSIS DENGAN Data Fauna/Flora) */
        @media (max-width: 768px) {
            .main-wrapper { width: 100vw; height: 100vh; border-radius: 0; }
            .sidebar { width: 100%; height: 60px; position: relative; flex-direction: row; justify-content: space-between; align-items: center; padding: 0; }
            .logo-section { padding: 10px 20px; border-bottom: none; margin-bottom: 0; }
            .logo-text h3 { font-size: 1.1rem; }
            .logo-text p { display: none; }
            .nav-menu, .btn-logout-section { display: none; }
            .main-content-area { margin-left: 0; padding: 20px; border-radius: 0; }
            .header-content p { font-size: 1rem; }
            .data-table th, .data-table td { padding: 10px 15px; }
            .action-buttons button { margin: 0 2px; }
        }
    </style>
    <script>
        // ===============================================
        // REVISI KONTEN: Role "User" diganti menjadi "Viewer"
        // ===============================================
        let userData = [
            // Admin (Tetap 'Admin')
            { id: 101, nama: "Tissk", username: "Tissk.2", email: "ajaarpan2@gmail.com", role: "Admin", status: "Aktif", createdAt: "2025-08-01", lastLogin: "2025-10-25, 10:30 WIB" },
            
            // Pengguna lain (Diganti 'Viewer')
            { id: 102, nama: "Shko", username: "Utraman biji", email: "bakekokkokekab@gmail.com", role: "Viewer", status: "Aktif", createdAt: "2024-03-15", lastLogin: "2025-10-24, 09:15 WIB" },
            { id: 103, nama: "lanetheaa", username: "sinta.d", email: "sinta.d@alnu.co.id", role: "Viewer", status: "Nonaktif", createdAt: "2024-05-20", lastLogin: "2025-05-20, 14:00 WIB" },
            { id: 104, nama: "Abang Reno", username: "reno.p", email: "reno.p@gmail.com", role: "Viewer", status: "Aktif", createdAt: "2024-07-10", lastLogin: "2025-10-25, 08:40 WIB" },
            { id: 105, nama: "Miku", username: "lina.s", email: "lina.s@alnu.co.id", role: "Viewer", status: "Aktif", createdAt: "2024-08-28", lastLogin: "2025-10-23, 11:55 WIB" },
        ];

        let currentEditingId = null;

        function initializeLucideIcons() {
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            }
        }

        // FUNGSI RENDER TABEL UNTUK PENGGUNA
        function renderTable() {
            const tbody = document.getElementById('userTableBody');
            if (!tbody) return;

            tbody.innerHTML = ''; 
            
            userData.forEach((item, index) => {
                const row = tbody.insertRow();
                
                // No.
                row.insertCell().textContent = index + 1;
                // Nama Pengguna
                row.insertCell().textContent = item.nama;
                // Username
                row.insertCell().textContent = item.username; // Tampilkan Username/Email
                // Role
                const roleCell = row.insertCell();
                const roleBadge = document.createElement('span');
                roleBadge.textContent = item.role;
                // REVISI: Menggunakan getRoleClass yang baru
                roleBadge.className = 'role-badge ' + getRoleClass(item.role); 
                roleCell.appendChild(roleBadge);
                // Status
                const statusCell = row.insertCell();
                const statusBadge = document.createElement('span');
                statusBadge.textContent = item.status;
                statusBadge.className = 'status-badge ' + getStatusClass(item.status);
                statusCell.appendChild(statusBadge);
                // Terakhir Login
                row.insertCell().textContent = item.lastLogin;
                // Aksi
                const actionCell = row.insertCell();
                actionCell.className = 'action-buttons';
                actionCell.style.textAlign = 'center';
                
                const editButton = document.createElement('button');
                editButton.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-cog"><path d="M10 21v-2a4 4 0 0 0-4-4H2a4 4 0 0 0-4 4v2"/><circle cx="6" cy="7" r="4"/><circle cx="18" cy="15" r="3"/><path d="M21.5 9.5v2"/><path d="M19 13.5l1.5 1.5"/><path d="M16.5 15l-1.5 1.5"/><path d="M15 18.5v2"/><path d="M16.5 21.5l1.5-1.5"/><path d="M19 17.5l1.5 1.5"/><path d="M21.5 19l-1.5 1.5"/></svg>`;
                editButton.className = 'btn-edit';
                editButton.title = 'Kelola Pengguna';
                editButton.onclick = () => editItem(item.id);
                
                const deleteButton = document.createElement('button');
                deleteButton.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>`;
                deleteButton.className = 'btn-delete';
                deleteButton.title = 'Hapus Pengguna';
                deleteButton.onclick = () => confirmDelete(item.id);

                actionCell.appendChild(editButton);
                actionCell.appendChild(deleteButton);
            });
        }

        // REVISI: Mengganti kelas 'role-user' menjadi 'role-viewer'
        function getRoleClass(role) {
            return (role.toLowerCase() === 'admin') ? 'role-admin' : 'role-viewer';
        }

        function getStatusClass(status) {
            return (status.toLowerCase() === 'aktif') ? 'status-aktif' : 'status-nonaktif';
        }

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // FUNGSI SUBMIT FORM (Update Role/Status/Nama)
        function handleFormSubmit(event) {
            event.preventDefault();
            
            const form = event.target;
            const data = {
                nama: form.nama.value,
                role: form.role.value,
                status: form.status.value,
            };
            
            const index = userData.findIndex(item => item.id === currentEditingId);
            if (index !== -1) {
                // Update hanya Role, Status, dan Nama
                userData[index] = { 
                    ...userData[index], 
                    ...data
                };
            }

            renderTable();
            closeModal('addEditModal');
            currentEditingId = null;
        }

        // FUNGSI EDIT ITEM
        function editItem(id) {
            const item = userData.find(i => i.id === id);
            if (!item) return;

            currentEditingId = id;
            document.getElementById('modalTitle').textContent = 'Kelola Detail Pengguna';
            document.getElementById('submitButton').textContent = 'Simpan Perubahan';
            
            // Isi data yang ada
            document.getElementById('nama').value = item.nama;
            
            // EMAIL DIBUAT READONLY 
            document.getElementById('email').value = item.email;
            document.getElementById('email').setAttribute('readonly', 'readonly');
            
            const roleSelect = document.getElementById('role');
            roleSelect.value = item.role;

            // Logika Pembatasan Role Akses (Hanya Anda yang Admin)
            if (item.role === 'Admin') {
                // Jika user yang diedit adalah Admin (termasuk Anda), jangan izinkan role diubah
                roleSelect.setAttribute('readonly', 'readonly');
                roleSelect.style.backgroundColor = '#f7f7f7';
                roleSelect.style.cursor = 'not-allowed';
            } else {
                // Jika user yang diedit adalah Viewer, Admin bisa mengubahnya,
                // tetapi karena opsi 'Admin' di HTML dihilangkan, maka Role hanya bisa tetap 'Viewer'.
                roleSelect.removeAttribute('readonly');
                roleSelect.style.backgroundColor = '';
                roleSelect.style.cursor = 'default';
            }

            document.getElementById('status').value = item.status;
            
            openModal('addEditModal');
        }
        
        // FUNGSI SIMULASI RESET PASSWORD
        function simulatePasswordReset() {
            const item = userData.find(i => i.id === currentEditingId);
            if (!item) return;

            alert(`Permintaan Reset Password telah diproses. Link pemulihan telah disimulasikan terkirim ke email: ${item.email}.`);
        }


        function confirmDelete(id) {
            currentEditingId = id;
            openModal('deleteModal');
            
            document.getElementById('confirmDeleteButton').onclick = () => {
                deleteItem();
                closeModal('deleteModal');
            };
        }

        function deleteItem() {
            userData = userData.filter(item => item.id !== currentEditingId);
            renderTable();
            currentEditingId = null;
        }
        
        // Logika Sidebar
        function toggleSubmenu(event) {
            event.preventDefault();
            const parentLi = event.currentTarget.closest('.nav-item');
            const submenuList = parentLi.querySelector('.submenu-list');
            
            if (submenuList) {
                parentLi.classList.toggle('expanded');
                submenuList.classList.toggle('visible');
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            renderTable();
            initializeLucideIcons(); 
            
            // Menggunakan ID Form yang sudah ada di HTML
            const userForm = document.getElementById('userForm');
            if (userForm) {
                userForm.addEventListener('submit', handleFormSubmit);
            }
            
            // Event listener untuk tombol reset password
            document.getElementById('btnResetPassword').addEventListener('click', simulatePasswordReset);
            
            const submenuToggle = document.querySelector('.submenu-toggle');
            if (submenuToggle) {
                submenuToggle.addEventListener('click', toggleSubmenu);
            }
        });

    </script>
</head>
<body>
    
    <div class="main-wrapper">
        <div class="sidebar">
            <div class="logo-section">
                <div class="logo-shape-wrapper">
                    <div class="logo-shape"></div>
                    <img src="NU2.jpg" alt="ALNU Logo"> 
                </div>
                
                <div class="logo-text">
                    <h3>ALNU Dashboard</h3>
                    <p>Alam Nusantara</p>
                </div>
            </div>

            <div class="nav-menu">
                <ul>
                    <li class="nav-item">
                        <a href="dashboard_admin.html">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
                            Dashboard
                        </a>
                    </li>
                    
                    <li class="nav-item expanded"> 
                        <a href="#" class="submenu-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>
                            Data
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down chevron" ><path d="m6 9 6 6 6-6"/></svg>
                        </a>
                        <ul class="submenu-list visible">
                            <li class="submenu-item">
                                <a href="data_flora.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flower-icon lucide-flower"><circle cx="12" cy="12" r="3"/><path d="M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"/><path d="M12 7.5V9"/><path d="M7.5 12H9"/><path d="M16.5 12H15"/><path d="M12 16.5V15"/><path d="m8 8 1.88 1.88"/><path d="M14.12 9.88 16 8"/><path d="m8 16 1.88-1.88"/><path d="M14.12 14.12 16 16"/></svg>
                                    Data Flora
                                </a>
                            </li>
                            <li class="submenu-item">
                                <a href="data_fauna.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-paw-print-icon lucide-paw-print"><circle cx="11" cy="4" r="2"/><circle cx="18" cy="8" r="2"/><circle cx="20" cy="16" r="2"/><path d="M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z"/></svg>
                                    Data Fauna
                                </a>
                            </li>
                            <li class="submenu-item active">
                                <a href="data_pengguna.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                                    Data Pengguna
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            
        </div>

        <div class="main-content-area">
            
            <div class="header-content">
                <h1>Manajemen Akun Pengguna</h1>
            </div>

            <div class="data-card">
                <div class="table-controls">
                    </div>
                
                <div class="data-table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="width: 5%;">No.</th>
                                <th style="width: 25%;">Nama Lengkap</th>
                                <th style="width: 20%;">Username/Email</th> 
                                <th style="width: 15%;">Role Akses</th>
                                <th style="width: 15%;">Status Akun</th>
                                <th style="width: 15%;">Terakhir Login</th>
                                <th style="width: 5%; text-align: center;">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="userTableBody">
                            </tbody>
                    </table>
                </div>
            </div>
            
        </div>
    </div>

    <div id="addEditModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle">Kelola Detail Pengguna</h3>
            <form id="userForm">
                <label for="nama">Nama Lengkap</label>
                <input type="text" id="nama" name="nama" required>

                <label for="email">Email</label>
                <input type="email" id="email" name="email" readonly required>
                
                <label for="password_control">Pengaturan Password</label>
                <div class="password-control">
                    <p>Gunakan tombol di samping untuk mengirimkan link pemulihan atau password sementara ke email pengguna.</p>
                    <button type="button" id="btnResetPassword" class="btn-reset-password">
                        Reset Password
                    </button>
                </div>

                <label for="role">Role Akses</label>
                <select id="role" name="role" required>
                    <option value="Viewer">Viewer (Peninjau Data)</option>
                    <option value="Admin">Admin</option> 
                </select>

                <label for="status">Status Akun</label>
                <select id="status" name="status" required>
                    <option value="Aktif">Aktif</option>
                    <option value="Nonaktif">Nonaktif</option>
                </select>

                <div class="modal-footer">
                    <button type="button" class="btn-cancel" onclick="closeModal('addEditModal')">Batal</button>
                    <button type="submit" id="submitButton" class="btn-submit">Simpan Perubahan</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="deleteModal" class="modal">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <h3 style="font-size: 1.3rem;">Konfirmasi Hapus</h3>
            <p>Anda yakin ingin menghapus data pengguna ini? Aksi ini tidak dapat dibatalkan.</p>
            <div class="modal-footer" style="justify-content: center;">
                <button type="button" class="btn-cancel" onclick="closeModal('deleteModal')">Batal</button>
                <button type="button" id="confirmDeleteButton" class="btn-submit">Hapus</button>
            </div>
        </div>
    </div>
    
</body>
</html>